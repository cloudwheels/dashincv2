(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{557:function(e,t,n){"use strict";n.r(t);n(10),n(7),n(9),n(11),n(8),n(12);var o=n(13),c=n(1),r=(n(51),n(61),n(35),n(96));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"ConceptsPage",data:function(){return{dialog:!1,dialogDelete:!1,expanded:[],editedIndex:-1,editedItem:{id:"",title:"",description:""},headers:[{text:"concept Id",align:"start",sortable:!0,value:"id",groupable:!1},{text:"title",align:"start",sortable:!1,value:"title",groupable:!1},{text:"type",align:"start",sortable:!0,value:"worktype"},{text:"Actions",value:"actions",sortable:!1,groupable:!1},{text:"",value:"data-table-expand",sortable:!1,groupable:!1}],concept:{title:"",description:""}}},computed:{Concepts:function(){return this.getConcepts()},formTitle:function(){return-1===this.editedIndex?"Draft New Concept":"Edit Concept"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.bindConcepts()},methods:d(d(d({},Object(r.c)(["getConcepts"])),Object(r.b)(["bindConcepts","addConcept","updateConcept","deleteConcept"])),{},{doAdd:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addConcept(e.concept);case 2:n=t.sent,console.log("RESULT IN COMPONENT",n),e.clearModal(),console.log("all concepts",e.Concepts),o=e.Concepts.map((function(e){return e.id})).indexOf(n),console.log("index of new item",o),e.editedIndex=o,e.editedItem=Object.assign({},e.Concepts[o]),e.dialog=!0;case 11:case"end":return t.stop()}}),t)})))()},openModal:function(){document.getElementById("conceptModal").style.display="block"},clearModal:function(){this.concept={title:"",description:""}},CloseModal:function(){this.clearModal(),document.getElementById("conceptModal").style.display="none"},editItem:function(e){console.log("item:",e),this.editedIndex=this.Concepts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.dialogDelete=!0},deleteItemConfirm:function(){this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.doAdd(),this.close()},updateConceptField:function(e){console.log("value:",e),console.log("event:",event,"update :",event.target.name," value:",event.target.value),console.log("EDITED ITEM:",this.editedItem),console.log(this.Concepts[this.editedIndex]);var t={key:event.target.name,value:event.target.value,originalValue:e};console.log("update",t),this.updateConcept({id:this.Concepts[this.editedIndex].id,change:t})}})},m=n(57),f=n(58),h=n.n(f),x=n(209),_=n(192),C=n(82),y=n(429),w=n(439),I=n(554),O=n(430),k=n(162),D=n(432),j=n(433),T=n(419),V=n(56),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._v(" "),n("div",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.Concepts,"items-per-page":5,"group-by":"worktype","show-group-by":"","show-expand":"",expanded:e.expanded},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),e._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,c=t.attrs;return[e.$store.getters.isAuthenticated?n("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",c,!1),o),[e._v("\n                Draft new concept\n              ")]):e._e()]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),e._v(" "),-1==e.editedIndex?n("div",[n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Title",name:"title"},model:{value:e.concept.title,callback:function(t){e.$set(e.concept,"title",t)},expression:"concept.title"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Description",name:"description"},model:{value:e.concept.description,callback:function(t){e.$set(e.concept,"description",t)},expression:"concept.description"}})],1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("\n                    Cancel\n                  ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("\n                    Next\n                  ")])],1)],1):n("div",[n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{value:e.editedItem.title,label:"Title",name:"title"},on:{change:function(t){return e.updateConceptField(e.editedItem.title)}}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{value:e.editedItem.description,label:"Description",name:"description"},on:{change:function(t){return e.updateConceptField(e.editedItem.description)}}})],1)],1)],1)],1)],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this item?")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),e._v(" "),n("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(o)}}},[e._v("\n          mdi-pencil\n        ")])]}},{key:"expanded-item",fn:function(t){var o=t.headers,c=t.item;return[n("td",{attrs:{colspan:o.length}},[n("v-card",[n("v-card-title",[e._v(" More info about "+e._s(c.title)+" ")]),e._v(" "),n("v-card-text",[e._v("\n              "+e._s(c.description)+"\n            ")])],1)],1)]}}])})],1)])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("All work in the incubator starts with a concept.")]),e._v(" "),n("p",[e._v("\n      You can draft a concept and then submit for approval by admins when you\n      are ready.\n    ")]),e._v(" "),n("p",[e._v("You must be signed in as a member to create a concept.")])])}],!1,null,null,null);t.default=component.exports;h()(component,{VBtn:x.a,VCard:_.a,VCardActions:C.a,VCardText:C.b,VCardTitle:C.c,VCol:y.a,VContainer:w.a,VDataTable:I.a,VDialog:O.a,VIcon:k.a,VRow:D.a,VSpacer:j.a,VTextField:T.a,VToolbar:V.a})}}]);